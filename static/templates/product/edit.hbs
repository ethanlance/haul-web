
<div class="container">


	{{!-- IMAGE PICKER: --}}

	<div id="stepOne" {{bind-attr class=":collapse showImagePicker:in:out"}}>
		<div class="row padding-top">
			<div class="col-md-6 col-sm-6 col-xs-6 vcenter">
				<h4>Select up to 5 images.</h4>
			</div>
			<div class="col-md-6 col-sm-6 col-xs-6 text-right vcenter">
				<button {{bind-attr class=":btn :btn-sm :btn-primary imagesAreSelected:enabled:disabled"}} {{action "clickNext"}}>Next Step<span class="glyphicon glyphicon-chevron-right"></span></button> 
			</div>
		</div>

		{{image-picker 
			images=controller.content
			user_id=controllers.auth.currentUser.id
			user_token=controllers.auth.token
			refresh='refresh'
			imageClick='imageClick' 
			imageDeleted='imageDeleted'
		}}

	</div>



	{{!-- PRODUCT FORM --}}



	<div id="stepTwo" {{bind-attr class=":collapse showImagePicker:out:in"}}>
		
		<div class="row padding-top">
			<div class="col-md-12 col-sm-12 col-xs-12"> 
				<div class="row">
 					<div class="col-md-6 col-sm-6 col-xs-6 vcenter">
						{{!-- REORDER IMAGES --}} 
						<h4>Drag images to sort</h4>
					</div>
					<div class="col-md-6 col-sm-6 col-xs-6 text-right vcenter">
						<button {{action "clickPrev"}} class="btn btn-sm btn-primary"><span class="glyphicon 	glyphicon-picture"></span> Change Images</button>
					</div>
				</div>

				<div class="row">
					<div class="col-md-12 col-sm-12 col-xs-12"> 
						{{view Haul.JQuerySortableView contentBinding="selectedImages"}}	
					</div>
				</div>
			</div>
		</div>


		{{#form-for model wrapper="bs3-wrapper"}}
		<div class="row">
			<div class="col-md-12"> 	
				<div class="row">
					<div class="col-md-8 col-sm-8 col-xs-12"> 
						<label>Name:</label>
						{{input type="text" name="name" value=name class="form-control"}}
					</div>
				</div>
				<div class="row">
					<div class="col-md-8 col-sm-8 col-xs-12"> 
						<label>Description:</label>
						{{textarea value=description name="description" cols="80" rows="6" class="form-control"}}
					</div> 
				</div>
				<div class="row">
					<div class="col-md-6 col-sm-6 col-xs-12"> 
						<label>Price:</label>
						<div class="input-group">
							<span class="input-group-addon">$</span>
							{{input type="text" name="price" value=price class="form-control input-sm"}}
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-6 col-sm-6 col-xs-12"> 
						<label>Quantity:</label>
						{{input type="text" name="quantity" value=quantity class="form-control input-xs"}}
	 				</div>
				</div>
			</div>
		</div>
		{{/form-for}}



		<div class="row padding-bottom">
			<div class="col-md-12 col-sm-12 col-xs-12 verical-align text-right">

			{{#if productExists }}
				{{#link-to 'product' this.id}}<button class="btn btn-default">Cancel</button>{{/link-to}}

				<button {{action "save" this}}  {{bind-attr class=":btn :btn-primary dataComplete:enabled:disabled"}}>Save<span class="glyphicon glyphicon-chevron-right"></span></button> 
			{{ else }}
				<button {{action "create" this}}  {{bind-attr class=":btn :btn-primary dataComplete:enabled:disabled"}}>Create<span class="glyphicon glyphicon-chevron-right"></span></button> 
			{{/if}}


			</div>
		</div> 
	</div>
</div>
