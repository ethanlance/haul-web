<div class="seller-nav haul-font">
	<div class="content-fixed-nav text-center">
     	<h2>
     		<strong>
     			{{#link-to "seller.products" model.user}}My For Sale{{/link-to}}
     		</strong> 
     	</h2>
	</div>	
</div>	


{{!-- HAUL TOOLBAR --}}

<div class="toolbar haul-font">
	<div class="container">
		<div class="row">
			<div class="col-md-12 col-sm-12 col-xs-12">	 

				<span {{bind-attr class=":collapse showImagePicker:in:out"}}>

					<button {{bind-attr class=":btn :btn-primary :btn-right imagesAreSelected:enabled:disabled"}} {{action "clickNext"}}>
						Next Step<span class="glyphicon glyphicon-chevron-right"></span>
					</button> 

					{{#link-to 'seller.products' currentUser.slug}}
						<button class="btn btn-default btn-right">Cancel</button>
					{{/link-to}}

				</span>

				<span {{bind-attr class=":collapse showImagePicker:out:in"}}>
					<button {{action "clickPrev"}} class="btn btn-primary"><span class="glyphicon 	glyphicon-picture"></span> Change Images</button>
						
					{{#if productExists }}

						{{ladda-btn
							name='Save'
							class="display-inline"
							btnClasses='btn btn-primary btn-right ladda-button'
							btnClick='submit'
							spin=isProcessing
						}}
					{{ else }}
						{{ladda-btn
							name='Create'
							class="display-inline"
							btnClasses='btn btn-primary btn-right ladda-button'
							btnClick='submit'
							spin=isProcessing
						}}
					{{/if}}

					
					{{#link-to 'product' product.id}}
						<button class="btn btn-default btn-right">Cancel</button>
					{{/link-to}}
				</span>
			</div>
		</div>
	</div>
</div>



<div class="container padding-bottom">


	{{!-- IMAGE PICKER: --}}

	<div id="stepOne" {{bind-attr class=":collapse showImagePicker:in:out"}}>
		<div class="row">
			<div class="col-md-12 col-sm-12 col-xs-12">
				<h2>Sell Something</h2>
				<h4>Start With Photos <small>(up to 5 per item)</small></h4>
			</div>
		</div>

		{{image-picker 
			images=controller.content
			user_id=currentUser.id
			user_token=currentUser.access_token
			refresh='refresh'
			imageClick='imageClick' 
			imageDeleted='imageDeleted'
		}}

	</div>



	{{!-- PRODUCT FORM --}}



	<div id="stepTwo" {{bind-attr class=":collapse showImagePicker:out:in"}}>
		
		<div class="row padding-top">
			<div class="col-md-12 col-sm-12 col-xs-12"> 
				<div class="row">
 					<div class="col-md-6 col-sm-6 col-xs-6 vcenter">
						{{!-- REORDER IMAGES --}} 
						<h4>Drag images to sort</h4>
					</div>
					<div class="col-md-6 col-sm-6 col-xs-6 text-right vcenter">
						
					</div>
				</div>

				<div class="row">
					<div class="col-md-12 col-sm-12 col-xs-12"> 
						{{view Haul.JQuerySortableView contentBinding="selectedImages"}}	
					</div>
				</div>
			</div>
		</div>


		{{#form-for product wrapper="bs3-wrapper"}}
		<div class="row">
			<div class="col-md-12"> 	
				<div class="row">
					<div class="col-md-8 col-sm-8 col-xs-12"> 
						<label>Name:</label>
						{{input name canShowValidationError=showErrors}} 
					</div>
				</div>
				<div class="row">
					<div class="col-md-8 col-sm-8 col-xs-12"> 
						<label>Description: (max 2000)</label>
						{{input description as="text" canShowValidationError=showErrors }}
					</div> 
				</div>
				<div class="row">
					<div class="col-md-6 col-sm-6 col-xs-12"> 
						{{#input price}}
						{{label-field price}}
						<div class="input-group">
							<span class="input-group-addon">$</span>
						  	{{input-field price class="form-control input-sm" canShowValidationError=showErrors}}
						  	<br/>
						</div>
						{{error-field price}}
						{{/input}}
					</div>
				</div>
				<div class="row">
					<div class="col-md-6 col-sm-6 col-xs-12"> 
						<label>Quantity:</label>
						{{input quantity class="input-xs" canShowValidationError=showErrors}}
	 				</div>
				</div>
			</div>
		</div>
		{{/form-for}}



		<div class="row">
			<div class="col-md-12 col-sm-12 col-xs-12">

			{{#if errorShow }}
				{{bs-alert message=errorMessage type="danger"}}
			{{/if}}

			</div>
		</div>
	</div>
</div>
