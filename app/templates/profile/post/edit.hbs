
{{what-page currentPage=currentPage page=thisPage}}

{{#form-for model wrapper="bs3-wrapper"}}
<div class="container-fluid haul-edit">
	<div class="row">
		<div class="col-md-8 col-sm-8 col-xs-12"> 
			
			<div class="gallery-wrapper collapse"> 
				<div class="gallery"> 
					<div class="gallery-inside">
						
						<button {{action 'showImageModal'}} class="btn btn-default">
							<span class="glyphicon glyphicon-picture"></span>
						</button>

						{{#each selectedImages}} 
							<img {{bind-attr src=small}}> 
						{{/each}}
					</div>
				</div>
			</div>

			<h4>Edit Your Post </h4>

				<div class="row">
					<div class="col-md-12 col-sm-12 col-xs-12"> 
						<label>Post Title:</label>
						{{input subject canShowValidationError=showErrors}} 
					</div>
				</div>	


			{{quill-editor content=editorialForQuill  quillChange='quillChange'}}			
		</div>

		<div class="col-md-4 col-sm-4 col-xs-12">

	 		<h4>Edit Product</h4>

	 		<div class="gallery-wrapper collapse-when-small"> 
				<div class="gallery"> 
					<div class="gallery-inside">

						<button {{action 'showImageModal'}} class="btn btn-default">
							<span class="glyphicon glyphicon-picture"></span>
						</button>

						{{#each selectedImages}} 
							<img {{bind-attr src=small}}> 
						{{/each}}
					</div>
				</div>
			</div>


		 


			<div class="row">
				<div class="col-md-12 col-sm-12 col-xs-12">  
					<label>Name your item</label>
					{{input product_name placeholder="Item name" canShowValidationError=showErrors}} 
				</div>
			</div>
			<div class="row">
				<div class="col-md-12 col-sm-12 col-xs-12">  
					<label>Describe your item</label>
					{{input product_description placeholder="Gives us the details. Size, color, condition, etc." as="text" canShowValidationError=showErrors }}
				</div> 
			</div>
			<div class="row">
				<div class="col-md-6 col-sm-6 col-xs-6"> 

					<label>Quantity</label>
					{{input product_quantity class="input-xs" placeholder="quantity" canShowValidationError=showErrors}}
				</div>

				<div class="col-md-6 col-sm-6 col-xs-6"> 
							<label>Status</label>
							{{view "select"
						       contentBinding="product_status_options"
						       selectionBinding="model.product_status"
						       optionLabelPath="content.name"
						       optionValuePath="content.value"
						       class="form-control"
						    }}
		 		</div>
			
				<div class="col-md-12 col-sm-12 col-xs-12"> 
							<label>Price</label>
					{{#input price}}
					<div class="input-group">
						<span class="input-group-addon">$</span>
					  	{{input-field product_price class="form-control input-sm" canShowValidationError=showErrors}}
					  	<br/>
					</div>
					{{#if showErrors}}<span class="has-error help-block">{{error-field price}}</span>{{/if}}
					{{/input}}
 				</div>
			</div>
		</div> 
	</div>

	<div class="row">
		<div {{bind-attr class=":col-md-12 :col-sm-12 :col-xs-12 :toolbar-footer"}}>	

			<button {{action 'cancel'}} class="btn btn-default">
				cancel
			</button>
			
			{{ladda-btn
				name='post'
				class="display-inline"
				btnClasses='btn btn-primary  ladda-button'
				btnClick='savePost'
				spin=isProcessing
			}}

		</div> 
	</div>
</div>
{{/form-for}} 
 


 <div {{bind-attr class=":modal :fade showImageModal:in:out  showImageModal:show:hide"}}>
	<div class="modal-dialog text-left haul-edit">
		<div class="modal-content">
			<div class="modal-header">
				<button {{action 'closeImageModal'}} type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="myModalLabel">Add Images</h4>
			</div>
		<div class="modal-body">

			{{image-picker 
				images=userImages
				selectedImages=selectedImages
				refresh='refresh'
				imageClick='imageClick' 
				imageDeleted='imageDeleted'
				Haul=Haul
			}}


      </div>
      <div class="modal-footer">


      	<div {{bind-attr class="postComplete:hide:show"}}>
	        <button {{action 'closeImageModal'}} type="button" class="btn btn-default" data-dismiss="modal">done</button> 
		</div>

      </div>
    </div>
  </div>
</div>

